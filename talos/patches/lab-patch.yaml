---
# yamllint disable-line rule:line-length
# yaml-language-server: $schema=https://raw.githubusercontent.com/siderolabs/talos/v1.9.4/pkg/machinery/config/schemas/config.schema.json
machine:
  features:
    rbac: true
  kubelet:
    extraArgs:
      rotate-server-certificates: "false"
  network:
    interfaces:
      - interface: eth0
        dhcp: true
  install:
    disk: /dev/sda
    wipe: true
    # yamllint disable-line rule:line-length
    # https://factory.talos.dev/?arch=amd64&board=undefined&cmdline=net.ifnames%3D0&cmdline-set=true&extensions=-&extensions=siderolabs%2Fi915&extensions=siderolabs%2Fintel-ice-firmware&extensions=siderolabs%2Fintel-ucode&extensions=siderolabs%2Fmei&platform=metal&secureboot=undefined&target=metal&version=1.9.4
    image: factory.talos.dev/installer/f78a2ee8d0cb96f78ebc1cb78d6a9cb05e19ce31b3d106b1986550ff29de6b54:v1.9.4
  time:
    servers:
      - pool.ntp.org
cluster:
  clusterName: home
  controlPlane:
    endpoint: https://kubernetes.apocrathia.com:6443
