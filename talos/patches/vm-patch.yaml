---
# yamllint disable-line rule:line-length
# yaml-language-server: $schema=https://raw.githubusercontent.com/siderolabs/talos/v1.9.4/pkg/machinery/config/schemas/config.schema.json
machine:
  features:
    rbac: true
  kubelet:
    extraArgs:
      rotate-server-certificates: "false"
  network:
    interfaces:
      - interface: eth0
        dhcp: true
        vip:
          ip: "10.50.8.8"
  install:
    disk: /dev/sda
    wipe: true
    # yamllint disable-line rule:line-length
    # https://factory.talos.dev/?arch=amd64&board=undefined&cmdline=net.ifnames%3D0&cmdline-set=true&extensions=-&extensions=siderolabs%2Fqemu-guest-agent&platform=metal&secureboot=undefined&target=metal&version=1.9.4
    image: factory.talos.dev/installer/f683308f6e49ec36d715bd41c90d800910552d8cbc015c8363ec350594535fa1:v1.9.4
  time:
    servers:
      - pool.ntp.org
cluster:
  clusterName: home
  allowSchedulingOnControlPlanes: true
  controlPlane:
    endpoint: https://kubernetes.apocrathia.com:6443
  apiServer:
    certSANs:
      - "10.50.8.8"
      - "kubernetes.apocrathia.com"
