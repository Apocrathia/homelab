---
# ScrapeConfig for etcd metrics
apiVersion: monitoring.coreos.com/v1alpha1
kind: ScrapeConfig
metadata:
  name: etcd-metrics
  namespace: prometheus-system
  labels:
    release: kube-prometheus-stack
spec:
  staticConfigs:
    - targets:
        - "10.100.1.80:2381"
      labels:
        job: etcd-metrics
        cluster: home
        instance: talos-01
    - targets:
        - "10.100.1.81:2381"
      labels:
        job: etcd-metrics
        cluster: home
        instance: talos-02
    - targets:
        - "10.100.1.82:2381"
      labels:
        job: etcd-metrics
        cluster: home
        instance: talos-03
    - targets:
        - "10.100.1.83:2381"
      labels:
        job: etcd-metrics
        cluster: home
        instance: talos-04
  scrapeInterval: 30s
  metricsPath: /metrics
  scheme: HTTP
