---
# yaml-language-server: $schema=https://raw.githubusercontent.com/recyclarr/recyclarr/master/schemas/config-schema.json

# Recyclarr configuration for Sonarr and Radarr instances
# Utilizes TRaSH Guides quality profiles and custom formats via include templates
#
# Reference: https://recyclarr.dev/wiki/yaml/config-reference/

# Configuration for Sonarr and Radarr instances
# Using environment variables for sensitive data per https://recyclarr.dev/wiki/yaml/env-vars/
sonarr:
  series:
    # Internal cluster URLs
    base_url: !env_var SONARR_BASE_URL http://sonarr.sonarr.svc.cluster.local
    api_key: !env_var SONARR_API_KEY

    # Include templates for quality definitions, profiles, and custom formats
    include:
      # Quality definitions for TV series
      - template: sonarr-quality-definition-series

      # Quality definitions for Anime
      - template: sonarr-quality-definition-anime

      # Quality profiles - WEB 1080p profile
      - template: sonarr-v4-quality-profile-web-1080p

      # Quality profiles - WEB 1080p alternative profile
      - template: sonarr-v4-quality-profile-web-1080p-alternative

      # Quality profiles - WEB 2160p profile
      - template: sonarr-v4-quality-profile-web-2160p

      # Quality profiles - WEB 2160p alternative profile
      - template: sonarr-v4-quality-profile-web-2160p-alternative

      # Quality profiles - Anime profile
      - template: sonarr-v4-quality-profile-anime

      # Custom formats for WEB 1080p
      - template: sonarr-v4-custom-formats-web-1080p

      # Custom formats for WEB 2160p
      - template: sonarr-v4-custom-formats-web-2160p

      # Custom formats for Anime
      - template: sonarr-v4-custom-formats-anime

    # Additional custom formats using trash_ids with comprehensive scoring
    custom_formats:
      # Anime-specific formats
      - trash_ids: [026d5aadd1a6b4e550b134cb6c72b3ca] # Uncensored
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 500
          - name: WEB-1080p
            score: 500
          - name: WEB-2160p
            score: 500
          - name: Ultra-HD
            score: 500

      - trash_ids: [b2550eb333d27b75833e25b8c2557b38] # 10bit
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 1000
          - name: WEB-1080p
            score: 1000
          - name: WEB-2160p
            score: 1000
          - name: Ultra-HD
            score: 1000

      - trash_ids: [418f50b10f1907201b6cfdf881f467b7] # Anime Dual Audio
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 1500
          - name: WEB-1080p
            score: 1500
          - name: WEB-2160p
            score: 1500
          - name: Ultra-HD
            score: 1500

      - trash_ids: [9c14d194486c4014d422adc64092d794] # Anime Dubs Only
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: -100
          - name: WEB-1080p
            score: -100
          - name: WEB-2160p
            score: -100
          - name: Ultra-HD
            score: -100

      # x265/HEVC encoding preference
      - trash_ids: [c9eafd50846d299b862ca9bb6ea91950] # x265
        assign_scores_to:
          - name: WEB-1080p
            score: 1000
          - name: WEB-2160p
            score: 1000
          - name: Ultra-HD
            score: 1000
          - name: Remux-1080p - Anime
            score: 1000

      - trash_ids: [47435ece6b99a0b477caf360e79ba0bb] # x265 (HD)
        assign_scores_to:
          - name: WEB-1080p
            score: 1000
          - name: Remux-1080p - Anime
            score: 1000

      # 1080p preference over 720p
      - trash_ids: [290078c8b266272a5cc8e251b5e2eb0b] # 1080p
        assign_scores_to:
          - name: WEB-1080p
            score: 500
          - name: Remux-1080p - Anime
            score: 500

      # Penalize 720p
      - trash_ids: [c99279ee27a154c2f20d1d505cc99e25] # 720p
        assign_scores_to:
          - name: WEB-1080p
            score: -500
          - name: Remux-1080p - Anime
            score: -500

      # Penalize x264 in favor of x265
      - trash_ids: [cddfb4e32db826151d97352b8e37c648] # x264
        assign_scores_to:
          - name: WEB-1080p
            score: -200
          - name: WEB-2160p
            score: -200
          - name: Ultra-HD
            score: -200
          - name: Remux-1080p - Anime
            score: -200

      # High quality release groups bonus
      - trash_ids: [d6819cba26b1a6508138d25fb5e32293] # HD Bluray Tier 01
        assign_scores_to:
          - name: WEB-1080p
            score: 300
          - name: WEB-2160p
            score: 300
          - name: Ultra-HD
            score: 300

      - trash_ids: [9965a052eb87b0d10313b1cea89eb451] # Remux Tier 01
        assign_scores_to:
          - name: WEB-1080p
            score: 300
          - name: WEB-2160p
            score: 300
          - name: Ultra-HD
            score: 300

      - trash_ids: [e6258996055b9fbab7e9cb2f75819294] # WEB Tier 01
        assign_scores_to:
          - name: WEB-1080p
            score: 200
          - name: WEB-2160p
            score: 200
          - name: Ultra-HD
            score: 200

      # Anime-specific high quality groups
      - trash_ids: [949c16fe0a8147f50ba82cc2df9411c9] # Anime BD Tier 01 (Top SeaDex Muxers)
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 500
          - name: WEB-1080p
            score: 500
          - name: WEB-2160p
            score: 500
          - name: Ultra-HD
            score: 500

      - trash_ids: [e0014372773c8f0e1bef8824f00c7dc4] # Anime Web Tier 01 (Muxers)
        assign_scores_to:
          - name: WEB-1080p
            score: 400
          - name: WEB-2160p
            score: 400
          - name: Ultra-HD
            score: 400

      # Penalize low quality releases
      - trash_ids: [9c11cd3f07101cdba90a2d81cf0e56b4] # LQ
        assign_scores_to:
          - name: WEB-1080p
            score: -1000
          - name: WEB-2160p
            score: -1000
          - name: Ultra-HD
            score: -1000
          - name: Remux-1080p - Anime
            score: -1000

      - trash_ids: [e3515e519f3b1360cbfc17651944354c] # Anime LQ Groups
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: -800
          - name: WEB-1080p
            score: -800
          - name: WEB-2160p
            score: -800
          - name: Ultra-HD
            score: -800

      # Penalize unwanted formats
      - trash_ids: [15a05bc7c1a36e2b57fd628f8977e2fc] # AV1
        assign_scores_to:
          - name: WEB-1080p
            score: -300
          - name: WEB-2160p
            score: -300
          - name: Ultra-HD
            score: -300
          - name: Remux-1080p - Anime
            score: -300

      - trash_ids: [85c61753df5da1fb2aab6f2a47426b09] # BR-DISK
        assign_scores_to:
          - name: WEB-1080p
            score: -500
          - name: WEB-2160p
            score: -500
          - name: Ultra-HD
            score: -500

      - trash_ids: [23297a736ca77c0fc8e70f8edd7ee56c] # Upscaled
        assign_scores_to:
          - name: WEB-1080p
            score: -400
          - name: WEB-2160p
            score: -400
          - name: Ultra-HD
            score: -400
          - name: Remux-1080p - Anime
            score: -400

      # HDR format bonuses
      - trash_ids: [505d871304820ba7106b693be6fe4a9e] # HDR
        assign_scores_to:
          - name: WEB-1080p
            score: 300
          - name: WEB-2160p
            score: 300
          - name: Ultra-HD
            score: 300
          - name: Remux-1080p - Anime
            score: 300

      - trash_ids: [7c3a61a9c6cb04f52f1544be6d44a026] # DolbyVision Boost
        assign_scores_to:
          - name: WEB-1080p
            score: 400
          - name: WEB-2160p
            score: 400
          - name: Ultra-HD
            score: 400
          - name: Remux-1080p - Anime
            score: 400

      - trash_ids: [0c4b99df9206d2cfac3c05ab897dd62a] # HDR10+ Boost
        assign_scores_to:
          - name: WEB-1080p
            score: 350
          - name: WEB-2160p
            score: 350
          - name: Ultra-HD
            score: 350
          - name: Remux-1080p - Anime
            score: 350

      # Multichannel audio bonuses
      - trash_ids: [3fbafa924f361e66fbc6187af82dfa85] # 5.1 Surround
        assign_scores_to:
          - name: WEB-1080p
            score: 200
          - name: WEB-2160p
            score: 200
          - name: Ultra-HD
            score: 200
          - name: Remux-1080p - Anime
            score: 200

      - trash_ids: [204c8c3e7315bb0ea81332774fa888d6] # 7.1 Surround
        assign_scores_to:
          - name: WEB-1080p
            score: 300
          - name: WEB-2160p
            score: 300
          - name: Ultra-HD
            score: 300
          - name: Remux-1080p - Anime
            score: 300

      # Streaming service bonuses
      - trash_ids: [218e93e5702f44a68ad9e3c6ba87d2f0] # HD Streaming Boost
        assign_scores_to:
          - name: WEB-1080p
            score: 100

      - trash_ids: [43b3cf48cb385cd3eac608ee6bca7f09] # UHD Streaming Boost
        assign_scores_to:
          - name: WEB-2160p
            score: 100
          - name: Ultra-HD
            score: 100

radarr:
  movies:
    # Internal cluster URLs
    base_url: !env_var RADARR_BASE_URL http://radarr.radarr.svc.cluster.local
    api_key: !env_var RADARR_API_KEY

    # Include templates for quality definitions, profiles, and custom formats
    include:
      # Quality definitions for movies
      - template: radarr-quality-definition-movie

      # Quality definitions for Anime
      - template: radarr-quality-definition-anime

      # Quality definitions for SQP Streaming
      - template: radarr-quality-definition-sqp-streaming

      # Quality definitions for SQP UHD
      - template: radarr-quality-definition-sqp-uhd

      # Quality profiles - HD Bluray + WEB
      - template: radarr-quality-profile-hd-bluray-web

      # Quality profiles - UHD Bluray + WEB
      - template: radarr-quality-profile-uhd-bluray-web

      # Quality profiles - Remux + WEB 1080p
      - template: radarr-quality-profile-remux-web-1080p

      # Quality profiles - Remux + WEB 2160p
      - template: radarr-quality-profile-remux-web-2160p

      # Quality profiles - Anime
      - template: radarr-quality-profile-anime

      # Quality profiles - Streaming Qualtiy Profile 1 1080p
      - template: radarr-quality-profile-sqp-1-1080p

      # Quality profiles - SQP 1 WEB 1080p
      - template: radarr-quality-profile-sqp-1-web-1080p

      # Quality profiles - SQP 1 2160p 4K Only Default
      - template: radarr-quality-profile-sqp-1-2160p-4k-only-default

      # Quality profiles - SQP 1 2160p 4K Only IMAX Enhanced
      - template: radarr-quality-profile-sqp-1-2160p-4k-only-imax-e

      # Quality profiles - SQP 1 2160p Default
      - template: radarr-quality-profile-sqp-1-2160p-default

      # Quality profiles - SQP 1 2160p IMAX Enhanced
      - template: radarr-quality-profile-sqp-1-2160p-imax-e

      # Quality profiles - SQP 2
      - template: radarr-quality-profile-sqp-2

      # Quality profiles - SQP 3
      - template: radarr-quality-profile-sqp-3

      # Quality profiles - SQP 4
      - template: radarr-quality-profile-sqp-4

      # Quality profiles - SQP 5
      - template: radarr-quality-profile-sqp-5

      # Custom formats for HD Bluray + WEB
      - template: radarr-custom-formats-hd-bluray-web

      # Custom formats for UHD Bluray + WEB
      - template: radarr-custom-formats-uhd-bluray-web

      # Custom formats for Remux + WEB 1080p
      - template: radarr-custom-formats-remux-web-1080p

      # Custom formats for Remux + WEB 2160p
      - template: radarr-custom-formats-remux-web-2160p

      # Custom formats for Anime
      - template: radarr-custom-formats-anime

      # Custom formats for SQP 1 1080p
      - template: radarr-custom-formats-sqp-1-1080p

      # Custom formats for SQP 1 WEB 1080p
      - template: radarr-custom-formats-sqp-1-web-1080p

      # Custom formats for SQP 1 2160p
      - template: radarr-custom-formats-sqp-1-2160p

      # Custom formats for SQP 2
      - template: radarr-custom-formats-sqp-2

      # Custom formats for SQP 3
      - template: radarr-custom-formats-sqp-3

      # Custom formats for SQP 4
      - template: radarr-custom-formats-sqp-4

      # Custom formats for SQP 5
      - template: radarr-custom-formats-sqp-5

    # Additional custom formats using trash_ids with scoring
    custom_formats:
      # Anime-specific formats
      - trash_ids: [064af5f084a0a24458cc8ecd3220f93f] # Uncensored
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 500

      - trash_ids: [a5d148168c4506b55cf53984107c396e] # 10bit
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 1000

      - trash_ids: [4a3b087eea2ce012fcc1ce319259a3be] # Anime Dual Audio
        assign_scores_to:
          - name: Remux-1080p - Anime
            score: 1500

      # x265/HEVC encoding preference
      - trash_ids: [9170d55c319f4fe40da8711ba9d8050d] # x265
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 1000
          - name: UHD Bluray + WEB
            score: 1000
          - name: Remux + WEB 1080p
            score: 1000
          - name: Remux + WEB 2160p
            score: 1000
          - name: Remux-1080p - Anime
            score: 1000
          - name: Ultra-HD
            score: 1000

      # 1080p preference over 720p
      - trash_ids: [820b09bb9acbfde9c35c71e0e565dad8] # 1080p
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 500
          - name: Remux + WEB 1080p
            score: 500

      # Penalize 720p
      - trash_ids: [b2be17d608fc88818940cd1833b0b24c] # 720p
        assign_scores_to:
          - name: HD Bluray + WEB
            score: -500
          - name: Remux + WEB 1080p
            score: -500

      # Penalize x264 in favor of x265
      - trash_ids: [2899d84dc9372de3408e6d8cc18e9666] # x264
        assign_scores_to:
          - name: HD Bluray + WEB
            score: -200
          - name: UHD Bluray + WEB
            score: -200
          - name: Remux + WEB 1080p
            score: -200
          - name: Remux + WEB 2160p
            score: -200
          - name: Ultra-HD
            score: -200

      # High quality release groups bonus
      - trash_ids: [ed27ebfef2f323e964fb1f61391bcb35] # HD Bluray Tier 01
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 300
          - name: UHD Bluray + WEB
            score: 300
          - name: Ultra-HD
            score: 300

      - trash_ids: [3a3ff47579026e76d6504ebea39390de] # Remux Tier 01
        assign_scores_to:
          - name: Remux + WEB 1080p
            score: 300
          - name: Remux + WEB 2160p
            score: 300
          - name: Ultra-HD
            score: 300

      # Penalize low quality releases
      - trash_ids: [90a6f9a284dff5103f6346090e6280c8] # LQ
        assign_scores_to:
          - name: HD Bluray + WEB
            score: -1000
          - name: UHD Bluray + WEB
            score: -1000
          - name: Remux + WEB 1080p
            score: -1000
          - name: Remux + WEB 2160p
            score: -1000
          - name: Remux-1080p - Anime
            score: -1000
          - name: Ultra-HD
            score: -1000

      # Penalize unwanted formats
      - trash_ids: [b8cd450cbfa689c0259a01d9e29ba3d6] # 3D
        assign_scores_to:
          - name: HD Bluray + WEB
            score: -500
          - name: UHD Bluray + WEB
            score: -500
          - name: Remux + WEB 1080p
            score: -500
          - name: Remux + WEB 2160p
            score: -500
          - name: Ultra-HD
            score: -500

      - trash_ids: [cae4ca30163749b891686f95532519bd] # AV1
        assign_scores_to:
          - name: HD Bluray + WEB
            score: -300
          - name: UHD Bluray + WEB
            score: -300
          - name: Remux + WEB 1080p
            score: -300
          - name: Remux + WEB 2160p
            score: -300
          - name: Ultra-HD
            score: -300

      # HDR format bonuses
      - trash_ids: [493b6d1dbec3c3364c59d7607f7e3405] # HDR
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 300
          - name: UHD Bluray + WEB
            score: 300
          - name: Remux + WEB 1080p
            score: 300
          - name: Remux + WEB 2160p
            score: 300
          - name: Remux-1080p - Anime
            score: 300
          - name: Ultra-HD
            score: 300

      - trash_ids: [b337d6812e06c200ec9a2d3cfa9d20a7] # DV Boost
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 400
          - name: UHD Bluray + WEB
            score: 400
          - name: Remux + WEB 1080p
            score: 400
          - name: Remux + WEB 2160p
            score: 400
          - name: Remux-1080p - Anime
            score: 400
          - name: Ultra-HD
            score: 400

      - trash_ids: [caa37d0df9c348912df1fb1d88f9273a] # HDR10+ Boost
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 350
          - name: UHD Bluray + WEB
            score: 350
          - name: Remux + WEB 1080p
            score: 350
          - name: Remux + WEB 2160p
            score: 350
          - name: Remux-1080p - Anime
            score: 350
          - name: Ultra-HD
            score: 350

      # Multichannel audio bonuses
      - trash_ids: [77ff61788dfe1097194fd8743d7b4524] # 5.1 Surround
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 200
          - name: UHD Bluray + WEB
            score: 200
          - name: Remux + WEB 1080p
            score: 200
          - name: Remux + WEB 2160p
            score: 200
          - name: Remux-1080p - Anime
            score: 200
          - name: Ultra-HD
            score: 200

      - trash_ids: [e77382bcfeba57cb83744c9c5449b401] # 7.1 Surround
        assign_scores_to:
          - name: HD Bluray + WEB
            score: 300
          - name: UHD Bluray + WEB
            score: 300
          - name: Remux + WEB 1080p
            score: 300
          - name: Remux + WEB 2160p
            score: 300
          - name: Remux-1080p - Anime
            score: 300
          - name: Ultra-HD
            score: 300
