---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: litellm
  namespace: litellm

resources:
  - namespace.yaml
  - secret.yaml
  - postgres.yaml
  - podmonitor.yaml
  - helmrelease.yaml
  - rbac.yaml
  - pgvector

generatorOptions:
  disableNameSuffixHash: true

configMapGenerator:
  - name: authentik-blueprint-litellm
    namespace: litellm
    files:
      - litellm.yaml=authentik-blueprint.yaml
  - name: litellm-config
    namespace: litellm
    files:
      - models.yaml=litellm.yml

labels:
  - includeSelectors: true
    pairs:
      authentik_blueprint: "true"
