---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: gatekeeper

resources:
  - namespace.yaml
  - helmrelease.yaml

configMapGenerator:
  - name: gatekeeper-grafana-dashboard
    namespace: prometheus-system
    options:
      labels:
        app: kube-prometheus-stack-grafana
        grafana_dashboard: "1"
      annotations:
        grafana_folder: "Security"
    files:
      - gatekeeper-dashboard.json=https://grafana.com/api/dashboards/15763/revisions/1/download

generatorOptions:
  disableNameSuffixHash: true
