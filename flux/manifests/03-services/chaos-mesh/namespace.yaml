---
apiVersion: v1
kind: Namespace
metadata:
  name: chaos-mesh
  labels:
    name: chaos-mesh
    # Enable Kyverno policies for this namespace
    policies.kyverno.io/enabled: "true"
    # Allow privileged workloads for Chaos Mesh chaos-daemon
    pod-security.kubernetes.io/enforce: privileged
    pod-security.kubernetes.io/enforce-version: v1.28
  annotations:
    # Exclude from Kyverno validation for maximum fun times
    kyverno.io/exclude: "true"
    # Enable Chaos Mesh experiments in this namespace
    chaos-mesh.org/inject: enabled
