---
# TCP Route for syslog traffic to Alloy
apiVersion: gateway.networking.k8s.io/v1alpha2
kind: TCPRoute
metadata:
  name: syslog-tcp-route
  namespace: cilium-system
spec:
  parentRefs:
    - name: main-gateway
      namespace: cilium-system
      sectionName: syslog-tcp
  rules:
    - backendRefs:
        - name: alloy
          namespace: alloy-system
          port: 514
---
# UDP Route for syslog traffic to Alloy
apiVersion: gateway.networking.k8s.io/v1alpha2
kind: UDPRoute
metadata:
  name: syslog-udp-route
  namespace: cilium-system
spec:
  parentRefs:
    - name: main-gateway
      namespace: cilium-system
      sectionName: syslog-udp
  rules:
    - backendRefs:
        - name: alloy
          namespace: alloy-system
          port: 514
